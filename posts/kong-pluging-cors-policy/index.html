<!doctype html><html lang=en-us><head><title>KongPlugin CORS: fixing Access-Control-Allow-Origin header missing error // Cloudy Caffeine with Ana</title><link rel="shortcut icon" href=/favicon.ico><meta charset=utf-8><meta name=generator content="Hugo 0.115.2"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Ana Cozma"><meta name=description content><link rel=stylesheet href=/blog/css/main.min.6f2f62cb3c0554c34e5ed3fe97d24c3ed198bb966ae12fb4c950f4d9326686d9.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-PD4F67ZWJD"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PD4F67ZWJD",{anonymize_ip:!1})}</script><meta name=twitter:card content="summary"><meta name=twitter:title content="KongPlugin CORS: fixing Access-Control-Allow-Origin header missing error"><meta name=twitter:description content="In our current environment we have Kong as our Ingress controller in front of our applications.
We are also using the Kong CORS Plugin to enable browsers to make cross-origin requests to our application&rsquo;s backend. The CORS plugin lets you configure the API gateway behavior to support Cross-Origin Resource Sharing (CORS). If you want to dig deeper into what CORS is, please check the CORS glossary link.
We also make use of helm charts to handle our deployment."><meta property="og:title" content="KongPlugin CORS: fixing Access-Control-Allow-Origin header missing error"><meta property="og:description" content="In our current environment we have Kong as our Ingress controller in front of our applications.
We are also using the Kong CORS Plugin to enable browsers to make cross-origin requests to our application&rsquo;s backend. The CORS plugin lets you configure the API gateway behavior to support Cross-Origin Resource Sharing (CORS). If you want to dig deeper into what CORS is, please check the CORS glossary link.
We also make use of helm charts to handle our deployment."><meta property="og:type" content="article"><meta property="og:url" content="https://ana-cozma.github.io/blog/posts/kong-pluging-cors-policy/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-07T17:55:37+01:00"><meta property="article:modified_time" content="2021-12-07T17:55:37+01:00"></head><body><header class=app-header><a href=https://ana-cozma.github.io/blog><img class=app-header-avatar src=/blog/avatar.jpg alt="Ana Cozma"></a>
<span class=app-header-title>Cloudy Caffeine with Ana</span><nav class=app-header-menu><a class=app-header-menu-item href=/blog/>Home</a>
|
<a class=app-header-menu-item href=/blog/tags/>Tags</a>
|
<a class=app-header-menu-item href=/blog/coffee/>Coffee</a>
|
<a class=app-header-menu-item href=/blog/about/>About</a></nav><p>A blog about cloud, tech and coffee</p><div class=app-header-social><a href=https://github.com/ana-cozma target=_blank rel="noreferrer noopener me"><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>GitHub</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://twitter.com/the_cozma target=_blank rel="noreferrer noopener me"><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter"><title>Twitter</title><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a><a href=https://www.linkedin.com/in/ana-cozma/ target=_blank rel="noreferrer noopener me"><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-linkedin"><title>LinkedIn</title><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a></div></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title>KongPlugin CORS: fixing Access-Control-Allow-Origin header missing error</h1><div class=post-meta><div><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Dec 7, 2021</div><div><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>6 min read</div><div><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><a class=tag href=https://ana-cozma.github.io/blog/tags/kong/>kong</a>
<a class=tag href=https://ana-cozma.github.io/blog/tags/kubernetes/>kubernetes</a>
<a class=tag href=https://ana-cozma.github.io/blog/tags/cors/>cors</a>
<a class=tag href=https://ana-cozma.github.io/blog/tags/kong-plugin/>kong-plugin</a></div></div></header><div class=post-content><p>In our current environment we have <strong>Kong</strong> as our Ingress controller in front of our applications.</p><p>We are also using the <strong>Kong CORS Plugin</strong> to enable browsers to make cross-origin requests to our application&rsquo;s backend. <a href=https://docs.konghq.com/hub/kong-inc/cors/>The CORS plugin</a> lets you configure the API gateway behavior to support Cross-Origin Resource Sharing (CORS). If you want to dig deeper into what CORS is, please check the <a href=https://developer.mozilla.org/en-US/docs/Glossary/CORS>CORS glossary link</a>.</p><p>We also make use of <code>helm</code> charts to handle our deployment.</p><p><strong>The issue</strong>
We had it set up to allow all origins and wanted to add our domains only. Adding the list of domains to the Kong CORS Plugin origins parameter resulted in &ldquo;Access-Control-Allow-Origin header missing&rdquo; error and CORS blocking the requests.</p><p><strong>The initial setup of our CORS plugin</strong></p><p>In order to get the plugin to work the first thing we needed to do is to:</p><h4 id=enable-the-plugin-on-a-service>Enable the plugin on a service</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>configuration.konghq.com/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>KongPlugin</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>service-cors-plugin</span>
</span></span><span style=display:flex><span><span style=color:#f92672>config</span>: 
</span></span><span style=display:flex><span>  <span style=color:#f92672>origins</span>:
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#39;*&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>credentials</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>max_age</span>: <span style=color:#ae81ff>3600</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>preflight_continue</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span><span style=color:#f92672>plugin</span>: <span style=color:#ae81ff>cors</span>
</span></span></code></pre></div><p>Apart from enabling it, we have a few other configurations set:</p><p><strong>credentials</strong> - <em>required</em>
Documentation:</p><blockquote><p><em>Flag to determine whether the <code>Access-Control-Allow-Credentials</code> header should be sent with <strong>true</strong> as the value.</em></p></blockquote><p>What this means:
By default, CORS does not include cookies on cross-origin requests. If you need the requests to transfer cookies (or other user credentials) then it needs to be enabled. This entails that the server will allow cookies to be included on cross-origin requests.</p><p>For more details on what the <code>Access-Control-Allow-Credentials</code> header does, please check the <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials>MDN Web Docs</a>.</p><p><strong>origins</strong> - <em>optional</em>
Documentation:</p><blockquote><p><em>List of allowed domains for the <code>Access-Control-Allow-Origin</code> header.</em></p></blockquote><p>What this means:
You can whitelist every domain that&rsquo;s allowed to call the API or allow everyone using the wildcard.
The latter was our initial setup and we&rsquo;ll come back to this.</p><p><strong>preflight_continue</strong> - <em>required</em>
Documentation:</p><blockquote><p><em>A boolean value that instructs the plugin to proxy the OPTIONS preflight request to the Upstream service.</em></p></blockquote><p>What this means:
This flag decides if the preflight request should be handled by the upstream service (i.e. your API) or if the request is handled by the Ingress itself.</p><p>The purpose of a CORS preflight request is to check whether the CORS protocol is understood by the server for specific methods and headers.
The preflight request is an OPTIONS request, using three HTTP request headers: <code>Access-Control-Request-Method</code>, <code>Access-Control-Request-Headers</code>, and the <code>Origin</code> header.
If the server allows it, then it will respond to the preflight request with another request which contains the <code>Access-Control-Allow-Methods</code> response header, which lists the desired method (<code>PUT</code>, <code>DELETE</code>, etc).</p><p>We set it to <strong>false</strong> meaning we are letting Kong handle the preflight requests instead of passing them to the upstream service.</p><p>For more details on what the preflight request is, please check the <a href=https://developer.mozilla.org/en-US/docs/Glossary/Preflight_request>MDN Web Docs</a>.</p><p><strong>max_age</strong> - <em>optional</em>
Documentation:</p><blockquote><p><em>The preflight response can be optionally cached for the requests created in the same URL using <code>Access-Control-Max-Age</code> header.</em></p></blockquote><p>We set it to: 3600 seconds.</p><p>For the full list of configurations available, refer to the <a href=https://docs.konghq.com/hub/kong-inc/cors/#parameters>CORS plugin documentation</a>.</p><p>After the plugin is configured, then:</p><h4 id=apply-the-kong-cors-plugin-to-the-ingress>Apply the Kong CORS plugin to the Ingress</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>extensions/v1beta1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Ingress</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>kong-service</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>labels</span>:
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;labels-omitted&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>annotations</span>:
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;either add it here or in the values file depending on what you use&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>rules</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>http</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>paths</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>path</span>: <span style=color:#ae81ff>/path-to-your-service</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>backend</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>serviceName</span>: <span style=color:#ae81ff>service-name</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>servicePort</span>: <span style=color:#ae81ff>&lt;service-port&gt;</span>
</span></span></code></pre></div><p>and</p><h4 id=reference-the-annotation-to-the-cors-plugin-in-environment-values-file>Reference the annotation to the CORS plugin in environment values file</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>ingress</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>annotations</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>kubernetes.io/ingress.class</span>: <span style=color:#e6db74>&#34;kong&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>konghq.com/plugins</span>: <span style=color:#e6db74>&#34;service-cors-plugin&#34;</span>
</span></span></code></pre></div><p>As I mentioned we use <code>helm</code> to handle our deploys so we have follow the basic structure (aside from Ingress and the specific project structure).</p><ul><li>a <code>deployment.yaml</code>: A basic manifest for creating a Kubernetes deployment</li><li>a <code>service.yaml</code>: A basic manifest for creating a service endpoint for your deployment</li><li>a <code>_helpers.tpl</code>: A place to put template helpers that you can re-use throughout the chart</li><li>a <code>values.yaml</code> file that contains the default values for a chart. These values may be overridden by users during <code>helm install</code> or <code>helm upgrade</code>.</li></ul><p>For more details on what <code>helm</code> is, charts and how to use them, please take a look over the <a href=https://helm.sh/docs/chart_template_guide/getting_started/>Helm Docs</a>. They are pretty well documented and can give you a good starting point if you are unfamiliar with this topic.</p><p><em>But &mldr;</em></p><p>Allowing all origins is not a best practice unless you are implementing a public API so we wanted to limit the whitelisted domains.</p><p>Check <a href=https://portswigger.net/web-security/cors#server-generated-acao-header-from-client-specified-origin-header>here</a> to see an example of how the headers can be exploited if you use a wildcard.</p><p><strong>Attempts</strong></p><ul><li>Failed attempt 1</li></ul><p>We tried adding the domain using the ASP.Net Core flavor: <code>https://*.domain.com</code>, but it didn&rsquo;t work as the wildcards cannot be used within any other value. For example, the following header is not valid:</p><pre tabindex=0><code>Access-Control-Allow-Origin: https://*.domain.com
</code></pre><p>In the plugin documentation it says that for the <code>origins</code> param:</p><blockquote><p><em>The accepted values can either be flat strings or PCRE regexes.</em></p></blockquote><ul><li>Failed attempt 2</li></ul><p>We tried adding a PCRE compliant regex enclosed in double quotes, but <code>helm</code> deploy failed as it rejected the format.</p><p>Adding all the domains with subdomains to a list was not feasible because it&rsquo;s something we register dynamically.</p><p><strong>The solution</strong></p><p>So what worked for us was: <strong>adding the PCRE regex to whitelist all our subdomains, but enclosed in single quotes.</strong> This allowed <code>helm</code> deploy to succeed.</p><p>To validate your regex you can use the awesome <a href=https://regex101.com/>regex101</a>.</p><blockquote><p>Just make sure you select the PCRE engine flavor.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>configuration.konghq.com/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>KongPlugin</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>service-cors-plugin</span>
</span></span><span style=display:flex><span><span style=color:#f92672>config</span>: 
</span></span><span style=display:flex><span>  <span style=color:#f92672>origins</span>:
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#39;https:\/\/[\w-_]+\.domain1\.com&#39;</span>
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#39;https://domain2.dev&#39;</span>
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#39;https:\/\/[\w-_]+\.domain2\.dev&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>credentials</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>max_age</span>: <span style=color:#ae81ff>3600</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>preflight_continue</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span><span style=color:#f92672>plugin</span>: <span style=color:#ae81ff>cors</span>
</span></span></code></pre></div><p>Alternatively, if you use go templating and use a <code>_helpers.tpl</code> file then you can also define it as below:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>configuration.konghq.com/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>KongPlugin</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: {{ <span style=color:#ae81ff>include &#34;service.name&#34; . }}-cors-plugin</span>
</span></span><span style=display:flex><span><span style=color:#f92672>config</span>: 
</span></span><span style=display:flex><span>  <span style=color:#f92672>origins</span>:
</span></span><span style=display:flex><span>  {{- <span style=color:#ae81ff>range .Values.CorsAllowedOrigins }}</span>
</span></span><span style=display:flex><span>    - {{ <span style=color:#ae81ff>. | squote }}</span>
</span></span><span style=display:flex><span>  {{- <span style=color:#ae81ff>end }}</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>credentials</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>max_age</span>: <span style=color:#ae81ff>3600</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>preflight_continue</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span><span style=color:#f92672>plugin</span>: <span style=color:#ae81ff>cors</span>
</span></span></code></pre></div><p>If you are unfamiliar with what the <code>values.yaml</code> file actually is, it&rsquo;s just a place to put template helpers that you can re-use throughout the chart.</p><p>For more details on how to read this, please check the <a href=https://helm.sh/docs/chart_template_guide/values_files/>Helm Docs</a> on the Values files.</p><p>And in the <code>values.yaml</code> file just add your domains or your regex as:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>CorsAllowedOrigins</span>: 
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#39;https:\/\/[\w-_]+\.domain1\.com&#39;</span>
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#39;https://domain2.dev&#39;</span>
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#39;https:\/\/[\w-_]+\.domain2\.dev&#39;</span>
</span></span></code></pre></div><p>And that was that! :)</p><p>I wrote this blog post because all the examples from the internet were using the <code>'*'</code> format for origins and we wanted to allow the specific domains using a regex.</p><p>Hope it helps someone else!</p></div><div class=post-footer><style>.resp-sharing-button__link,.resp-sharing-button__icon{display:inline-block}.resp-sharing-button__link{text-decoration:none;color:#fff!important;margin:.2em}.resp-sharing-button{border-radius:5px;transition:25ms ease-out;padding:.5em .75em;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.resp-sharing-button__icon svg{width:1em;height:1em;margin-right:.4em;vertical-align:middle}.resp-sharing-button--small svg{margin:0;vertical-align:middle}.resp-sharing-button__icon{stroke:#fff;fill:none}.resp-sharing-button__icon--solid,.resp-sharing-button__icon--solidcircle{fill:#fff;stroke:none}.resp-sharing-button--twitter{background-color:#55acee}.resp-sharing-button--twitter:hover{background-color:#2795e9}.resp-sharing-button--pinterest{background-color:#bd081c}.resp-sharing-button--pinterest:hover{background-color:#8c0615}.resp-sharing-button--facebook{background-color:#3b5998}.resp-sharing-button--facebook:hover{background-color:#2d4373}.resp-sharing-button--tumblr{background-color:#35465c}.resp-sharing-button--tumblr:hover{background-color:#222d3c}.resp-sharing-button--reddit{background-color:#ff4500}.resp-sharing-button--reddit:hover{background-color:#3a80c1}.resp-sharing-button--google{background-color:#dd4b39}.resp-sharing-button--google:hover{background-color:#c23321}.resp-sharing-button--linkedin{background-color:#0077b5}.resp-sharing-button--linkedin:hover{background-color:#046293}.resp-sharing-button--email{background-color:#777}.resp-sharing-button--email:hover{background-color:#5e5e5e}.resp-sharing-button--xing{background-color:#1a7576}.resp-sharing-button--xing:hover{background-color:#114c4c}.resp-sharing-button--whatsapp{background-color:#25d366}.resp-sharing-button--whatsapp:hover{background-color:#1da851}.resp-sharing-button--hackernews{background-color:#f60}.resp-sharing-button--hackernews:hover,.resp-sharing-button--hackernews:focus{background-color:#fb6200}.resp-sharing-button--vk{background-color:#507299}.resp-sharing-button--vk:hover{background-color:#43648c}.resp-sharing-button--facebook{background-color:#3b5998;border-color:#3b5998}.resp-sharing-button--facebook:hover,.resp-sharing-button--facebook:active{background-color:#2d4373;border-color:#2d4373}.resp-sharing-button--twitter{background-color:#55acee;border-color:#55acee}.resp-sharing-button--twitter:hover,.resp-sharing-button--twitter:active{background-color:#2795e9;border-color:#2795e9}.resp-sharing-button--tumblr{background-color:#35465c;border-color:#35465c}.resp-sharing-button--tumblr:hover,.resp-sharing-button--tumblr:active{background-color:#222d3c;border-color:#222d3c}.resp-sharing-button--email{background-color:#777;border-color:#777}.resp-sharing-button--email:hover,.resp-sharing-button--email:active{background-color:#5e5e5e;border-color:#5e5e5e}.resp-sharing-button--pinterest{background-color:#bd081c;border-color:#bd081c}.resp-sharing-button--pinterest:hover,.resp-sharing-button--pinterest:active{background-color:#8c0615;border-color:#8c0615}.resp-sharing-button--linkedin{background-color:#0077b5;border-color:#0077b5}.resp-sharing-button--linkedin:hover,.resp-sharing-button--linkedin:active{background-color:#046293;border-color:#046293}.resp-sharing-button--reddit{background-color:#ff4500;border-color:#ff4500}.resp-sharing-button--reddit:hover,.resp-sharing-button--reddit:active{background-color:#ff5700;border-color:#ff5700}.resp-sharing-button--xing{background-color:#1a7576;border-color:#1a7576}.resp-sharing-button--xing:hover .resp-sharing-button--xing:active{background-color:#114c4c;border-color:#114c4c}.resp-sharing-button--whatsapp{background-color:#25d366;border-color:#25d366}.resp-sharing-button--whatsapp:hover,.resp-sharing-button--whatsapp:active{background-color:#1da851;border-color:#1da851}.resp-sharing-button--hackernews{background-color:#f60;border-color:#f60}.resp-sharing-button--hackernews:hover .resp-sharing-button--hackernews:active{background-color:#fb6200;border-color:#fb6200}.resp-sharing-button--vk{background-color:#507299;border-color:#507299}.resp-sharing-button--vk:hover .resp-sharing-button--vk:active{background-color:#43648c;border-color:#43648c}.resp-sharing-button--telegram{background-color:#54a9eb}.resp-sharing-button--telegram:hover{background-color:#4b97d1}</style><a class=resp-sharing-button__link href="https://facebook.com/sharer/sharer.php?u=https://ana-cozma.github.io/blog/posts/kong-pluging-cors-policy/" target=_blank rel=noopener aria-label title=Facebook><div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://twitter.com/intent/tweet/?text=KongPlugin%20CORS%3a%20fixing%20Access-Control-Allow-Origin%20header%20missing%20error&amp;url=https://ana-cozma.github.io/blog/posts/kong-pluging-cors-policy/" target=_blank rel=noopener aria-label title=Twitter><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5.0-4.55 2.04-4.55 4.54.0.36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3.0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35.0 12.92-6.92 12.92-12.93.0-.2.0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://ana-cozma.github.io/blog/posts/kong-pluging-cors-policy/&amp;title=KongPlugin%20CORS%3a%20fixing%20Access-Control-Allow-Origin%20header%20missing%20error&amp;summary=KongPlugin%20CORS%3a%20fixing%20Access-Control-Allow-Origin%20header%20missing%20error&amp;https://ana-cozma.github.io/blog/posts/kong-pluging-cors-policy/" target=_blank rel=noopener aria-label><div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6.0 2.5 1 2.6 2.5.0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://reddit.com/submit/?url=https://ana-cozma.github.io/blog/posts/kong-pluging-cors-policy/&amp;resubmit=true&amp;title=KongPlugin%20CORS%3a%20fixing%20Access-Control-Allow-Origin%20header%20missing%20error" target=_blank rel=noopener aria-label title=Reddit><div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 11.5c0-1.65-1.35-3-3-3-.96.0-1.86.48-2.42 1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3 .5C17.2 6.3 18.46 7.5 20 7.5c1.65.0 3-1.35 3-3s-1.35-3-3-3c-1.38.0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2 4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65.0-3 1.35-3 3 0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66.0 3.86 4.5 7 10 7s10-3.14 10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5 13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64.0 1.22.32 1.6.82-1.1.85-1.92 1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8 4.8c-1.08.63-2.42.96-3.8.96-1.4.0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06 4.76 1.06 6.6.0.23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1.0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1.0 2 .9 2 2 0 .84-.53 1.57-1.3 1.87z"/></svg></div></div></a><script src=https://giscus.app/client.js data-repo=ana-cozma/blog data-repo-id=586287035 data-category="Post Comments" data-category-id=DIC_kwDOIvGqC84CTeD0 data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=dark_dimmed data-lang=en data-loading=lazy crossorigin=anonymous async></script></div></article></main></body></html>